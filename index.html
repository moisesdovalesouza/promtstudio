<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PromptStudio - v0.3.4 (Beta)</title>
  
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23a78bfa;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' rx='20' fill='url(%23grad)'/%3E%3Cpath d='M35,68 C25,58 25,38 35,28 L55,48 L35,68 Z' fill='%23ffffff' fill-opacity='0.2'/%3E%3Cpath d='M40,75 L40,25 C40,15 65,15 65,35 C65,55 40,55 40,65' stroke='%23ffffff' stroke-width='10' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M70,15 L72,25 L82,28 L72,31 L70,41 L68,31 L58,28 L68,25 Z' fill='%23ffffff'/%3E%3C/svg%3E">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #f9fafb; font-family: 'Poppins', sans-serif; }
    select, textarea, button, p, label, span, details, input { font-family: 'Poppins', sans-serif; }
    select:focus, textarea:focus, input:focus {
      outline: 2px solid transparent; outline-offset: 2px;
      --tw-ring-color: #8b5cf6; box-shadow: 0 0 0 2px var(--tw-ring-color);
      border-color: #a78bfa;
    }
    select:invalid { color: #6b7280; }
    summary { list-style: none; cursor: pointer; }
    summary::-webkit-details-marker { display: none; }
    details[open] summary ~ * { animation: sweep .5s ease-in-out; }
    @keyframes sweep {
      from { opacity: 0; transform: translateY(-10px) }
      to   { opacity: 1; transform: translateY(0) }
    }
    .tab-button {
      transition: all 0.2s ease-in-out;
      background-color: #e5e7eb;
      color: #4b5563;
    }
    .tab-button.active-tab {
      background-color: #8b5cf6;
      color: #ffffff;
      font-weight: 700;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }
    .optional-control-wrapper { border-top: 1px solid #e5e7eb; padding-top: 1rem; }
  </style>
</head>
<body>

  <div id="root" class="max-w-3xl mx-auto px-4 py-8">
    
    <div class="text-center mb-8">
        <h1 class="font-poppins text-5xl font-bold text-gray-800 tracking-tighter">PromptStudio</h1>
        <p class="text-xl text-gray-500 mt-2">Seu assistente criativo para prompts de imagem.</p>
    </div>

    <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6 space-y-6">
        <div>
          <div class="mb-6">
            <nav class="flex flex-wrap justify-center gap-2" aria-label="Tabs">
              <button data-tab="tab0" class="tab-button active-tab rounded-full py-2 px-4 text-sm font-medium flex-grow sm:flex-grow-0">üéØ Modelos</button>
              <button data-tab="tab1" class="tab-button rounded-full py-2 px-4 text-sm font-medium flex-grow sm:flex-grow-0">üì∑ T√©cnica</button>
              <button data-tab="tab2" class="tab-button rounded-full py-2 px-4 text-sm font-medium flex-grow sm:flex-grow-0">üßç Pose</button>
              <button data-tab="tab3" class="tab-button rounded-full py-2 px-4 text-sm font-medium flex-grow sm:flex-grow-0">üé® Estilo</button>
              <button data-tab="tab4" class="tab-button rounded-full py-2 px-4 text-sm font-medium flex-grow sm:flex-grow-0">‚öôÔ∏è Avan√ßado</button>
            </nav>
          </div>

          <div id="tabs-content">
            
            <div id="tab0" class="tab-panel space-y-2">
              <h2 class="text-lg font-semibold text-gray-800 block text-center">Estilo Predefinido</h2>
              <p class="block text-sm italic text-gray-500 mb-2 text-center">Escolha um modelo para preencher todos os campos e gerar o prompt rapidamente.</p>
              <select id="preset-select" class="w-full p-2 rounded-xl border-gray-300 border bg-white"></select>
            </div>
            
            <div id="tab1" class="tab-panel space-y-4 hidden">
              <h2 class="text-lg font-semibold text-gray-800 block text-center">T√©cnica Fotogr√°fica</h2>
              <div>
                <label for="select-plano">Plano</label>
                <select id="select-plano" data-key="plano" class="w-full p-2 mt-1 rounded-md border-gray-300 border bg-white" required></select>
              </div>
              <div>
                <label for="select-lente">Lente</label>
                <div class="flex items-center space-x-2 mt-1">
                    <select id="select-lente" data-key="lente" class="w-full p-2 rounded-md border-gray-300 border bg-white" required></select>
                    <div class="relative hidden" id="custom-lente-wrapper">
                        <input type="number" id="custom-lente" class="w-24 p-2 rounded-md border-gray-300 border" placeholder="Valor">
                        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500">mm</span>
                    </div>
                </div>
              </div>
              <div>
                <label for="select-abertura">Abertura</label>
                <div class="flex items-center space-x-2 mt-1">
                    <select id="select-abertura" data-key="abertura" class="w-full p-2 rounded-md border-gray-300 border bg-white" required></select>
                     <div class="relative hidden" id="custom-abertura-wrapper">
                        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500">f/</span>
                        <input type="number" step="0.1" id="custom-abertura" class="w-24 p-2 pl-7 rounded-md border-gray-300 border" placeholder="Valor">
                    </div>
                </div>
              </div>
               <div>
                <label for="select-proporcao">Propor√ß√£o/Resolu√ß√£o</label>
                <select id="select-proporcao" data-key="proporcao" class="w-full p-2 mt-1 rounded-md border-gray-300 border bg-white" required></select>
                <div id="custom-proporcao-wrapper" class="hidden mt-2 p-3 border rounded-md bg-gray-50 space-y-2">
                    <div class="flex items-center space-x-4">
                        <input type="number" id="custom-proporcao-w" class="w-full p-2 rounded-md border-gray-300 border" placeholder="Largura (px)">
                        <span class="font-bold text-gray-500">x</span>
                        <input type="number" id="custom-proporcao-h" class="w-full p-2 rounded-md border-gray-300 border" placeholder="Altura (px)">
                    </div>
                </div>
              </div>
            </div>

            <div id="tab2" class="tab-panel space-y-4 hidden">
              <h2 class="text-lg font-semibold text-gray-800 block text-center">Pose, A√ß√£o e Local</h2>
              <div>
                <label for="select-expressao">Express√£o Geral</label>
                <select id="select-expressao" data-key="expressao" class="w-full p-2 mt-1 rounded-md border-gray-300 border bg-white" required></select>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6 pt-2">
                  <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-posicao-cabeca" data-controls="select-posicao-cabeca" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-posicao-cabeca" class="ml-2 text-gray-800">Posi√ß√£o da Cabe√ßa</label>
                      </div>
                      <select id="select-posicao-cabeca" data-key="posicao_cabeca" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                  <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-posicao-corpo" data-controls="select-posicao-corpo" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-posicao-corpo" class="ml-2 text-gray-800">Posi√ß√£o do Corpo</label>
                      </div>
                      <select id="select-posicao-corpo" data-key="posicao_corpo" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                   <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-posicao-bracos" data-controls="select-posicao-bracos" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-posicao-bracos" class="ml-2 text-gray-800">Posi√ß√£o dos Bra√ßos</label>
                      </div>
                      <select id="select-posicao-bracos" data-key="posicao_bracos" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                   <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-posicao-pernas" data-controls="select-posicao-pernas" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-posicao-pernas" class="ml-2 text-gray-800">Posi√ß√£o das Pernas</label>
                      </div>
                      <select id="select-posicao-pernas" data-key="posicao_pernas" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                   <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-local" data-controls="select-local" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-local" class="ml-2 text-gray-800">Local da Foto</label>
                      </div>
                      <select id="select-local" data-key="local" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                      <input type="text" id="custom-local" class="w-full p-2 mt-2 rounded-md border-gray-300 border hidden" placeholder="Digite o local (em ingl√™s)">
                  </div>
                  <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-acao" data-controls="select-acao" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-acao" class="ml-2 text-gray-800">A√ß√£o da Pessoa</label>
                      </div>
                      <select id="select-acao" data-key="acao" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                      <input type="text" id="custom-acao" class="w-full p-2 mt-2 rounded-md border-gray-300 border hidden" placeholder="Digite a a√ß√£o (em ingl√™s)">
                  </div>
              </div>
            </div>

            <div id="tab3" class="tab-panel space-y-4 hidden">
              <h2 class="text-lg font-semibold text-gray-800 block text-center">Estilo e Efeitos Visuais</h2>
              <div>
                <label for="select-iluminacao">Ilumina√ß√£o</label>
                <select id="select-iluminacao" data-key="iluminacao" class="w-full p-2 mt-1 rounded-md border-gray-300 border bg-white" required></select>
              </div>
              <div>
                <label for="select-atmosfera">Atmosfera / Estilo Visual</label>
                <select id="select-atmosfera" data-key="atmosfera" class="w-full p-2 mt-1 rounded-md border-gray-300 border bg-white" required></select>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6 pt-2">
                  <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-bokeh" data-controls="select-bokeh" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-bokeh" class="ml-2 text-gray-800">Efeito Bokeh</label>
                      </div>
                      <select id="select-bokeh" data-key="bokeh" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                   <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-flare" data-controls="select-flare" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-flare" class="ml-2 text-gray-800">Lens Flare</label>
                      </div>
                      <select id="select-flare" data-key="flare" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                   <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-lens_filter" data-controls="select-lens_filter" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-lens_filter" class="ml-2 text-gray-800">Filtro de Lente</label>
                      </div>
                      <select id="select-lens_filter" data-key="lens_filter" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
                  <div class="optional-control-wrapper border-t-0 pt-0">
                      <div class="flex items-center">
                        <input type="checkbox" id="check-glow" data-controls="select-glow" class="h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500">
                        <label for="check-glow" class="ml-2 text-gray-800">Efeito de Brilho</label>
                      </div>
                      <select id="select-glow" data-key="glow" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white hidden"></select>
                  </div>
              </div>
            </div>
            
            <div id="tab4" class="tab-panel space-y-6 hidden">
                <div>
                  <h2 class="text-lg font-semibold text-gray-800 block text-center">Efeitos Finais e Texturas</h2>
                  <div id="effects-container" class="grid grid-cols-2 sm:grid-cols-3 gap-y-3 gap-x-4 mt-2"></div>
                </div>
                 <div class="pt-6 border-t border-gray-200">
                    <h2 class="text-lg font-semibold text-gray-800 block text-center">Tipo de Borda</h2>
                    <select id="select-borda" data-key="borda" class="w-full p-2 mt-2 rounded-md border-gray-300 border bg-white" required></select>
                </div>
                <div class="pt-6 border-t border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800 block text-center">Prompts Negativos</h2>
                  <p class="block text-sm italic text-gray-500 mb-2 text-center">Marque o que a IA deve evitar</p>
                  <div id="negative-prompts-container" class="grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-4 mt-2"></div>
                </div>
            </div>
          </div>
        </div>

        <div>
          <h2 class="text-lg font-semibold text-gray-800 block text-center mt-6">Prompt Gerado</h2>
          <textarea id="prompt-output" rows="6" class="w-full p-3 mt-2 rounded-xl border-gray-300 border" placeholder="Seu prompt completo (com prompts negativos) ser√° gerado aqui..."></textarea>
        </div>

        <div class="flex flex-col items-center space-y-4 pt-4">
          <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
            <button id="generate-button" class="w-full sm:w-auto px-6 py-3 bg-violet-600 text-white font-bold rounded-xl hover:bg-violet-700 shadow-lg transform hover:scale-105 transition-transform">
              Gerar Prompt
            </button>
            <button id="copy-button" class="w-full sm:w-auto px-6 py-3 bg-gray-600 text-white font-bold rounded-xl hover:bg-gray-700 shadow-lg transform hover:scale-105 transition-transform">
              Copiar Prompt
            </button>
            <button id="clear-button" class="w-full sm:w-auto px-6 py-3 bg-red-500 text-white font-bold rounded-xl hover:bg-red-600 shadow-lg transform hover:scale-105 transition-transform">
              Limpar
            </button>
          </div>
          <div id="copy-feedback" class="hidden flex items-center text-green-500">
            <svg class="animate-pulse" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 6 9 17l-5-5"></path>
            </svg>
            <span class="ml-2">Copiado!</span>
          </div>
        </div>
    </div>
    
    <div id="accordion-container" class="mt-8 space-y-4">
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-xl font-bold text-gray-800 rounded-lg">
          üéâ Novidades e Hist√≥rico de Vers√µes
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-6">
            <div class="pb-4 border-b">
                <p class="font-bold">Vers√£o: v0.3.0 (Beta)</p>
                <p class="text-sm italic text-gray-500">Uma grande atualiza√ß√£o focada em flexibilidade, controle e usabilidade.</p>
                <ul class="list-disc list-inside space-y-2 mt-2">
                    <li><strong>Interface em Abas:</strong> O layout foi totalmente redesenhado para uma navega√ß√£o mais limpa e intuitiva, com uma aba dedicada para "Modelos".</li>
                    <li><strong>Controles de Pose, Local e A√ß√£o:</strong> Foram adicionados controles opcionais para Posi√ß√£o de Cabe√ßa, Corpo, Bra√ßos, Pernas, Local da Foto e A√ß√£o da Pessoa.</li>
                    <li><strong>Mais Efeitos Visuais:</strong> Adicionados controles para Bokeh, Lens Flare, Filtros de Lente e Efeitos de Brilho.</li>
                    <li><strong>Mais Flexibilidade:</strong> Inclu√≠da a op√ß√£o "Outro..." para Lente, Abertura, Local e A√ß√£o, e "Personalizar..." para Propor√ß√£o.</li>
                    <li><strong>Prompts Negativos Integrados:</strong> A ferramenta agora gera um prompt √∫nico com os termos negativos no formato "--no".</li>
                    <li><strong>Op√ß√µes Restauradas e Expandidas:</strong> Todos os presets e op√ß√µes da v0.2.0 foram restaurados, adaptados e expandidos.</li>
                </ul>
            </div>
            <div class="pb-4">
                <p class="font-bold">Vers√£o: v0.2.0 (Beta)</p>
                 <ul class="list-disc list-inside space-y-2 mt-2">
                    <li><strong>Comando de Recria√ß√£o:</strong> Todo prompt agora come√ßa com a instru√ß√£o "Recreate the uploaded image as...".</li>
                    <li><strong>Nova Identidade Visual:</strong> Adicionamos uma nova fonte (Poppins) e um √≠cone (favicon) para dar uma cara mais profissional √† ferramenta.</li>
                    <li><strong>Otimiza√ß√£o de Prompt:</strong> Prompts s√£o gerados em ingl√™s e com um sufixo de alta qualidade para garantir os melhores resultados.</li>
                    <li><strong>Novas Se√ß√µes Informativas:</strong> Adicionamos se√ß√µes de "Novidades" e "IAs para Gerar Imagens".</li>
                </ul>
            </div>
        </div>
      </details>
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-xl font-bold text-gray-800 rounded-lg">
          üõ†Ô∏è Como usar o gerador?
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p><strong>1. Escolha os elementos visuais</strong><br>üé® Marque os detalhes que quer na imagem: estilo, clima, lente, ilumina√ß√£o, etc.</p>
          <p><strong>2. Clique em ‚ÄúGerar Prompt‚Äù</strong><br>‚ö° O app vai criar um texto descritivo baseado nas suas op√ß√µes, j√° em ingl√™s e otimizado.</p>
          <p><strong>3. Copie o prompt</strong><br>üìã Clique em ‚ÄúCopiar‚Äù para salvar o texto automaticamente.</p>
          <p><strong>4. V√° at√© a sua IA favorita (Midjourney, Leonardo AI, etc.)</strong><br>üß† Escolha o campo de gera√ß√£o de imagem via prompt.</p>
          <p><strong>5. Fa√ßa o upload da sua foto</strong><br>üì∏ Use uma imagem clara e bem iluminada (veja nossas dicas!).</p>
          <p><strong>6. Cole o prompt no campo de texto</strong><br>üìù Depois de subir a imagem, cole o prompt que voc√™ copiou.</p>
          <p><strong>7. Pronto!</strong><br>üöÄ Agora √© s√≥ gerar sua nova imagem!</p>
          <p class="pt-2 italic text-sm text-gray-500"><strong>Dica extra:</strong> voc√™ pode repetir o processo mudando s√≥ alguns elementos para testar novos estilos üòâ</p>
        </div>
      </details>
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-xl font-bold text-gray-800 rounded-lg">
          üì∑ Qual a melhor foto para usar?
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p><strong>1. Prefira fundo limpo ou desfocado:</strong> üß± Parede lisa, c√©u ou natureza simples funcionam melhor.</p>
          <p><strong>2. Boa ilumina√ß√£o √© essencial:</strong> üí° Use luz natural ou um ambiente bem claro. Evite fotos escuras.</p>
          <p><strong>3. Centralize o rosto ou corpo:</strong> üìç A pessoa deve estar bem no centro, sem cortes.</p>
          <p><strong>4. Use express√£o leve ou natural:</strong> üòê Rosto neutro ou um leve sorriso funciona melhor que caretas.</p>
          <p><strong>5. Evite selfies muito pr√≥ximas:</strong> ü§≥ Selfies coladas no rosto distorcem as propor√ß√µes.</p>
          <p><strong>6. Use fotos n√≠tidas e sem filtros:</strong> üñºÔ∏è Quanto mais "crua" a foto, melhor o resultado final.</p>
          <p><strong>7. Cores naturais s√£o as ideais:</strong> üé® Prefira fotos com tons reais de pele e luz.</p>
        </div>
      </details>
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-xl font-bold text-gray-800 rounded-lg">
          üöÄ IAs para Gerar Imagens
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-8">
            <h2 class="text-xl font-bold text-center text-gray-800 -mt-2 mb-4">Suas Op√ß√µes e Pre√ßos</h2>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">1. Sora (OpenAI)</h3>
              <p class="mb-2">Desenvolvido pela OpenAI (mesma criadora do ChatGPT), o Sora √© um modelo de ponta capaz de criar cenas realistas e imaginativas a partir de instru√ß√µes de texto, focando principalmente em v√≠deo. Embora o acesso ainda seja limitado, ele representa o futuro da gera√ß√£o de conte√∫do visual e pode inspirar a cria√ß√£o de prompts detalhados.</p>
              <p><strong>Link:</strong> <a href="https://openai.com/sora" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Explorar o Sora</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">2. Microsoft Designer</h3>
              <p class="mb-2">Criado pela Microsoft, o Microsoft Designer √© uma ferramenta de design gr√°fico que integra o DALL-E 3. Sua interface √© bem intuitiva, √≥tima para iniciantes. A vers√£o gratuita pode ter um limite de gera√ß√µes di√°rias (chamados de "boosts"), e a vers√£o completa faz parte da Assinatura Microsoft 365, a partir de R$ 36,00 por m√™s.</p>
              <p><strong>Link:</strong> <a href="https://designer.microsoft.com/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar Microsoft Designer</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">3. Leonardo.AI</h3>
              <p class="mb-2">Desenvolvida por uma start-up hom√¥nima, √© uma plataforma robusta para quem busca controle detalhado. Oferece diversos modelos pr√©-treinados, mas a vers√£o gratuita funciona com cr√©ditos di√°rios que se esgotam rapidamente. Planos pagos variam de R$ 50,00 a R$ 300,00 por m√™s.</p>
              <p><strong>Link:</strong> <a href="https://leonardo.ai/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar Leonardo.AI</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">4. Craiyon (antigo DALL-E Mini)</h3>
              <p class="mb-2">Inicialmente um projeto open-source, √© totalmente gratuito e n√£o exige cadastro, gerando nove imagens por prompt. A qualidade √© mais baixa e as imagens t√™m marca d'√°gua. Planos para remover an√∫ncios e a marca d'√°gua custam a partir de R$ 25,00 por m√™s.</p>
              <p><strong>Link:</strong> <a href="https://www.craiyon.com/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar Craiyon</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">5. Adobe Firefly</h3>
              <p class="mb-2">Desenvolvido pela Adobe, focado na criatividade e integra√ß√£o com o ecossistema Adobe. A vers√£o gratuita opera com cr√©ditos generativos mensais limitados. O acesso completo geralmente √© via planos Creative Cloud (a partir de R$ 25,00/m√™s para cr√©ditos ou pacotes completos).</p>
              <p><strong>Link:</strong> <a href="https://www.adobe.com/br/products/firefly.html" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar Adobe Firefly</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">6. DeepAI</h3>
              <p class="mb-2">Uma op√ß√£o simples e r√°pida para cria√ß√µes b√°sicas, embora as imagens gratuitas possam ter baixa resolu√ß√£o e marca d'√°gua. Planos de assinatura para remover an√∫ncios e ter maior resolu√ß√£o come√ßam em R$ 25,00 por m√™s.</p>
              <p><strong>Link:</strong> <a href="https://deepai.org/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar DeepAI</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">7. Canva</h3>
              <p class="mb-2">A popular plataforma de design integrou um gerador de imagens com IA. √â super f√°cil de usar, mas a vers√£o gratuita tem um n√∫mero limitado de cr√©ditos. O Canva Pro (cerca de R$ 34,90 por m√™s) oferece mais cr√©ditos e recursos.</p>
              <p><strong>Link:</strong> <a href="https://www.canva.com/ai-image-generator/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar IA do Canva</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">8. Pixlr</h3>
              <p class="mb-2">Um editor de fotos online que tamb√©m inclui um gerador de imagem por IA. A vers√£o gratuita pode exibir an√∫ncios e ter limita√ß√µes. Planos pagos variam de R$ 24,50 a R$ 75,00 por m√™s para acesso total.</p>
              <p><strong>Link:</strong> <a href="https://pixlr.com/br/" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar Pixlr</a></p>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-gray-800 mb-1">9. Freepik</h3>
              <p class="mb-2">Conhecido por seus recursos gr√°ficos, agora oferece um gerador de imagens com IA. O n√∫mero de gera√ß√µes gratuitas √© limitado. A assinatura Premium (cerca de R$ 75,00 por m√™s) d√° mais cr√©ditos e acesso ilimitado √† biblioteca.</p>
              <p><strong>Link:</strong> <a href="https://br.freepik.com/ai/gerador-imagens" target="_blank" rel="noopener noreferrer" class="text-violet-600 hover:underline">Acessar IA do Freepik</a></p>
            </div>
        </div>
      </details>
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-xl font-bold text-gray-800 rounded-lg">
          üö´ Dicas para Evitar Bloqueios
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p><strong>1. Nada de nudez ou pouca roupa:</strong> üôÖ‚Äç‚ôÄÔ∏è Evite fotos sem camisa, com lingerie, biqu√≠ni ou poses sensuais.</p>
          <p><strong>2. N√£o use fotos de crian√ßas ou adolescentes:</strong> üßí Por seguran√ßa, evite qualquer imagem de menores de idade.</p>
          <p><strong>3. Cuidado com conte√∫do sens√≠vel:</strong> üö¨üíâ Fotos com cigarros, √°lcool, armas ou drogas n√£o s√£o permitidas.</p>
          <p><strong>4. Evite gestos ofensivos:</strong> üñïü§¨ Nada de caretas agressivas ou sinais que possam ser considerados ofensivos.</p>
          <p><strong>5. N√£o tente imitar celebridades:</strong> üé≠ A maioria das IAs pro√≠be o uso da imagem de pessoas famosas.</p>
          <p><strong>6. Respeite a privacidade:</strong> üîí Nunca use fotos de outras pessoas sem autoriza√ß√£o.</p>
          <p><strong>7. Nada de conte√∫do chocante:</strong> ‚ö†Ô∏è Isso inclui ferimentos, sangue ou qualquer tema que possa chocar.</p>
          <p class="pt-2 italic text-sm text-red-500"><strong>üí° Dica final:</strong> Na d√∫vida, n√£o use a foto. Se voc√™ pensa ‚Äúser√° que isso pode dar problema?‚Äù, provavelmente √© melhor escolher outra üòÖ</p>
        </div>
      </details>
    </div>
    
    <div class="mt-8 text-center space-y-4">
        <a href="https://link.mercadopago.com.br/oficinacinco91" target="_blank" rel="noopener noreferrer" class="inline-block bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-cyan-600 transition-colors">
            üí∞ Apoie o Projeto
        </a>
        <a href="mailto:moisesdovalesouza@gmail.com?subject=Sugest√£o para o PromptStudio" class="inline-block bg-gray-700 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-gray-800 transition-colors">
            üí° Envie sua Sugest√£o
        </a>
    </div>

    <p class="text-xs text-center text-gray-500 mt-8">
      Criado por <span class="font-semibold text-gray-600">@moisesdovalesouza</span> ¬∑ v0.3.3 (Beta)
    </p>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const NEUTRO = 'Manter Original';
  const data = {
    planos: [NEUTRO, "Primeiro Plano", "Plano M√©dio", "Plano Americano"],
    lentes: [NEUTRO, "24mm", "35mm", "50mm", "85mm", "135mm", "200mm", "custom"],
    aberturas: [NEUTRO, "f/1.4", "f/1.8", "f/2.0", "f/2.8", "f/4.0", "f/8.0", "custom"],
    proporcoes: {
      "Manter Original": NEUTRO, "1:1 (Quadrado)": "--ar 1:1", "4:5 (Social Vertical)": "--ar 4:5", "2:3 (Retrato C√¢mera)": "--ar 2:3", "3:4 (Retrato Cl√°ssico)": "--ar 3:4", "3:2 (Paisagem C√¢mera)": "--ar 3:2", "4:3 (Paisagem Cl√°ssica)": "--ar 4:3", "16:9 (Widescreen Horizontal)": "--ar 16:9", "9:16 (Story/Reels Vertical)": "--ar 9:16",
      "Wallpaper Full HD (1920x1080)": "--ar 1920:1080", "Wallpaper 4K (3840x2160)": "--ar 3840:2160", "Wallpaper iPhone (1290x2796)": "--ar 1290:2796", "Wallpaper Android (1080x2400)": "--ar 1080:2400",
      "Capa de Revista (8.5:11)": "--ar 8.5:11", "CinemaScope (2.39:1)": "--ar 2.39:1",
      "Personalizar...": "custom"
    },
    expressoes: [NEUTRO, "Express√£o simp√°tica e confiante", "Express√£o espont√¢nea e introspectiva", "Express√£o descontra√≠da e nost√°lgica", "Olhar direto, pose cl√°ssica e s√©ria", "Express√£o cool e despreocupada", "Express√£o leve e nost√°lgica", "Sorriso espont√¢neo e despreocupado", "Olhar introspectivo com leve ironia", "Express√£o neutra e direta", "Sorriso leve e olhar espont√¢neo", "Express√£o dram√°tica e contemplativa", "Express√£o introspectiva", "Express√£o apaixonada e espont√¢nea", "Express√£o distante e melanc√≥lica", "Express√£o s√©ria e misteriosa", "Risada espont√¢nea", "Olhar direto para a lente", "Olhar marcante e sofisticado", "Pose firme e olhar marcante", "Express√£o sonhadora e ir√¥nica", "Movimento e express√£o intensa"],
    posicoes_cabeca: ["De frente para a c√¢mera", "Cabe√ßa levemente inclinada", "De perfil", "Pose 3/4", "Olhando por cima do ombro"],
    posicoes_corpo: ["Em p√©, reto", "Sentado(a) em uma cadeira", "Sentado(a) no ch√£o", "Recostado(a) em uma parede", "Deitado(a)"],
    posicoes_bracos: ["Bra√ßos ao lado do corpo", "Bra√ßos cruzados", "M√£os nos bolsos", "Uma m√£o no queixo (pensativo)", "Bra√ßos para cima"],
    posicoes_pernas: ["De p√©, pernas retas", "De c√≥coras", "De joelhos", "Sentado(a), com pernas cruzadas", "Uma perna √† frente da outra"],
    locais: [NEUTRO, "Sala de estar", "Escrit√≥rio", "Cozinha", "Quarto", "Bar", "Shopping", "Est√∫dio fotogr√°fico", "Jardim", "Praia", "Neve", "Floresta", "Campo de futebol", "custom"],
    acoes: [NEUTRO, "Bebendo", "Comendo", "Dormindo", "Andando", "Correndo", "Cantando", "Dan√ßando", "Lendo um livro", "custom"],
    iluminacoes: [NEUTRO, "Ilumina√ß√£o suave frontal", "Luz natural com sombras suaves", "Flash direto com sombra marcada", "Luz lateral forte com fundo colorido", "Ilumina√ß√£o de fundo e efeito de flare", "Luz natural suave com sombra dourada", "Flash direto e luz ambiente", "Luz lateral natural com flare leve", "Ilumina√ß√£o difusa com sombra esverdeada", "Luz natural crua", "Luz frontal difusa com fundo liso", "Luz frontal com recorte limpo", "Ilumina√ß√£o suave lateral", "Luz natural suave com flare", "Luz de palco colorida", "Luz de neon azul e rosa", "Luz de fim de tarde (golden hour)"],
    atmosferas: [NEUTRO, "Tons neutros e limpos, fundo claro desfocado", "Tons levemente saturados com nitidez alta", "Cores lavadas e granula√ß√£o estilo VHS", "Cores vibrantes e est√©tica de retrato de est√∫dio", "Alto contraste com fundo azulado ou esverdeado", "Tonalidade quente, granula√ß√£o leve e desfoque org√¢nico", "Tons desbotados com vinheta e fundo suave", "Cores lavadas, fundo desfocado, estilo tumblr", "Textura de filme e tonalidade s√©pia", "Fundo branco uniforme", "Tons √¢mbar e fundo vintage", "Preto e branco com alto contraste", "Preto e branco com sombra marcada", "Contraste urbano e tons realistas", "Fuma√ßa e contraste din√¢mico", "Cores naturais com leve vinheta", "Qualidade ultra-realista e n√≠tida (Upscaling)", "Estilo e nitidez do Flickr", "Estilo c√¢mera digital (anos 2000)", "Estilo filme anal√≥gico (anos 80)", "Estilo s√©pia quente (anos 70)", "Ilumina√ß√£o dram√°tica de cinema"],
    bokehs: ["Bokeh natural suave", "Bokeh com luzes circulares", "Bokeh em formato de cora√ß√£o", "Bokeh em formato de estrela"],
    flares: ["Flare suave e dourado", "Flare anam√≥rfico azulado", "Flare arco-√≠ris"],
    lens_filters: ["Filtro polarizador", "Filtro de foco suave (soft focus)", "Filtro de n√©voa (mist filter)"],
    glows: ["Brilho sutil ao redor", "Efeito de aur√©ola (halo)", "Brilho forte (bloom)"],
    bordas: [NEUTRO, "Sem bordas", "Borda branca suave", "Borda escura", "Borda branca espessa inferior (estilo polaroid)", "Borda de filme 35mm", "Vinheta circular suave"],
    efeitos_finais: { "Data no canto": "data", "Vazamento de luz": "vazamento de luz", "Poeira e pelos de filme": "poeira e pelos de filme", "Granulado de filme": "granulado de filme", "Part√≠culas de poeira no ar": "part√≠culas de poeira no ar", "Vinheta escura": "vinheta escura", "Gotas de √°gua no rosto": "gotas de √°gua no rosto", "Flocos de neve": "flocos de neve", "Raios de sol laterais": "raios de sol laterais", "Vapor suave": "vapor suave", "Leve desfoque de movimento": "leve desfoque de movimento" },
    prompts_negativos: {
        "Evitar deformidades (m√£os, olhos)": "deformed, distorted, disfigured, bad anatomy, ugly, bad hands, extra fingers, missing fingers, asymmetrical eyes",
        "Remover texto e marcas d'√°gua": "text, watermark, signature, username, logo",
        "For√ßar express√£o s√©ria (sem sorriso)": "smile, grin, smiling, laughing",
        "Fundo limpo (sem pessoas/objetos)": "extra people, crowd, cluttered background, other objects",
        "Evitar baixa qualidade/artefatos": "blurry, pixelated, low quality, jpeg artifacts, noise",
        "N√£o cortar a imagem": "cropped, out of frame, cut off"
    }
  };
  
  const traducoes = {
      // Planos
      "Primeiro Plano": "close-up shot", "Plano M√©dio": "medium shot", "Plano Americano": "american shot",
      // Ilumina√ß√£o
      "Ilumina√ß√£o suave frontal": "soft frontal lighting", "Luz natural com sombras suaves": "natural light with soft shadows", "Flash direto com sombra marcada": "direct flash with hard shadow", "Luz lateral forte com fundo colorido": "strong side light with a colored background", "Ilumina√ß√£o de fundo e efeito de flare": "backlighting with a lens flare effect", "Luz natural suave com sombra dourada": "soft natural light with a golden shadow", "Flash direto e luz ambiente": "direct flash and ambient light", "Luz lateral natural com flare leve": "natural side light with a soft flare", "Ilumina√ß√£o difusa com sombra esverdeada": "diffused lighting with a greenish shadow", "Luz natural crua": "raw natural light", "Luz frontal difusa com fundo liso": "diffused front light with a plain background", "Luz frontal com recorte limpo": "front light with a clean cutout", "Ilumina√ß√£o suave lateral": "soft side lighting", "Luz natural suave com flare": "soft natural light with flare", "Luz de palco colorida": "colored stage lighting", "Luz de neon azul e rosa": "blue and pink neon lighting", "Luz de fim de tarde (golden hour)": "golden hour lighting",
      // Atmosfera
      "Tons neutros e limpos, fundo claro desfocado": "neutral and clean tones, light blurred background", "Tons levemente saturados com nitidez alta": "slightly saturated tones with high sharpness", "Cores lavadas e granula√ß√£o estilo VHS": "washed-out colors with VHS-style grain", "Cores vibrantes e est√©tica de retrato de est√∫dio": "vibrant colors and studio portrait aesthetic", "Alto contraste com fundo azulado ou esverdeado": "high contrast with a bluish or greenish background", "Tonalidade quente, granula√ß√£o leve e desfoque org√¢nico": "warm tonality, light grain, and organic blur", "Tons desbotados com vinheta e fundo suave": "faded tones with a vignette and soft background", "Cores lavadas, fundo desfocado, estilo tumblr": "washed-out colors, blurred background, tumblr aesthetic", "Textura de filme e tonalidade s√©pia": "film texture and sepia tonality", "Fundo branco uniforme": "uniform white background", "Tons √¢mbar e fundo vintage": "amber tones and vintage background", "Preto e branco com alto contraste": "black and white with high contrast", "Preto e branco com sombra marcada": "black and white with a hard shadow", "Contraste urbano e tons realistas": "urban contrast and realistic tones", "Fuma√ßa e contraste din√¢mico": "smoke and dynamic contrast", "Cores naturais com leve vinheta": "natural colors with a slight vignette", "Qualidade ultra-realista e n√≠tida (Upscaling)": "ultra-realistic quality and sharpness", "Estilo e nitidez do Flickr": "Flickr-style sharpness and aesthetic", "Estilo c√¢mera digital (anos 2000)": "2000s digital camera aesthetic, slight pixelation, harsh flash", "Estilo filme anal√≥gico (anos 80)": "80s analog film look, vibrant colors, film grain", "Estilo s√©pia quente (anos 70)": "70s warm sepia tone, faded colors, soft focus", "Ilumina√ß√£o dram√°tica de cinema": "dramatic cinematic lighting",
      // Express√£o
      "Express√£o simp√°tica e confiante": "friendly and confident expression", "Express√£o espont√¢nea e introspectiva": "spontaneous and introspective expression", "Express√£o descontra√≠da e nost√°lgica": "relaxed and nostalgic expression", "Olhar direto, pose cl√°ssica e s√©ria": "direct gaze, classic and serious pose", "Express√£o cool e despreocupada": "cool and carefree expression", "Express√£o leve e nost√°lgica": "light and nostalgic expression", "Sorriso espont√¢neo e despreocupado": "spontaneous and carefree smile", "Olhar introspectivo com leve ironia": "introspective gaze with a hint of irony", "Express√£o neutra e direta": "neutral and direct expression", "Sorriso leve e olhar espont√¢neo": "slight smile and spontaneous gaze", "Express√£o dram√°tica e contemplativa": "dramatic and contemplative expression", "Express√£o introspectiva": "introspective expression", "Express√£o apaixonada e espont√¢nea": "passionate and spontaneous expression", "Express√£o distante e melanc√≥lica": "distant and melancholic expression", "Express√£o s√©ria e misteriosa": "serious and mysterious expression", "Risada espont√¢nea": "spontaneous laughter", "Olhar direto para a lente": "direct look into the lens", "Olhar marcante e sofisticado": "striking and sophisticated gaze", "Pose firme e olhar marcante": "strong pose and striking gaze", "Express√£o sonhadora e ir√¥nica": "dreamy and ironic expression", "Movimento e express√£o intensa": "movement and intense expression",
      // Poses
      "De frente para a c√¢mera": "facing the camera", "Cabe√ßa levemente inclinada": "head slightly tilted", "De perfil": "in profile", "Pose 3/4": "in a three-quarter pose", "Olhando por cima do ombro": "looking over the shoulder", "Em p√©, reto": "standing straight", "Sentado(a) em uma cadeira": "sitting on a chair", "Sentado(a) no ch√£o": "sitting on the floor", "Recostado(a) em uma parede": "leaning against a wall", "Deitado(a)": "lying down", "Bra√ßos ao lado do corpo": "arms by the side", "Bra√ßos cruzados": "arms crossed", "M√£os nos bolsos": "hands in pockets", "Uma m√£o no queixo (pensativo)": "one hand on the chin, thoughtful", "Bra√ßos para cima": "arms raised up", "De p√©, pernas retas": "standing with straight legs", "De c√≥coras": "squatting", "De joelhos": "kneeling", "Sentado(a), com pernas cruzadas": "sitting with legs crossed", "Uma perna √† frente da outra": "one leg in front of the other",
      // Local
      "Sala de estar": "in a living room", "Escrit√≥rio": "in an office", "Cozinha": "in a kitchen", "Quarto": "in a bedroom", "Bar": "in a bar", "Shopping": "in a shopping mall", "Est√∫dio fotogr√°fico": "in a photography studio", "Jardim": "in a garden", "Praia": "on a beach", "Neve": "in the snow", "Floresta": "in a forest", "Campo de futebol": "on a soccer field",
      // A√ß√£o
      "Bebendo": "drinking", "Comendo": "eating", "Dormindo": "sleeping", "Andando": "walking", "Correndo": "running", "Cantando": "singing", "Dan√ßando": "dancing", "Lendo um livro": "reading a book",
      // Efeitos de Estilo
      "Bokeh natural suave": "soft natural bokeh", "Bokeh com luzes circulares": "circular bokeh lights", "Bokeh em formato de cora√ß√£o": "heart-shaped bokeh", "Bokeh em formato de estrela": "star-shaped bokeh", "Flare suave e dourado": "soft golden flare", "Flare anam√≥rfico azulado": "anamorphic blue flare", "Flare arco-√≠ris": "rainbow flare", "Filtro polarizador": "polarizer filter effect", "Filtro de foco suave (soft focus)": "soft focus filter effect", "Filtro de n√©voa (mist filter)": "mist filter effect", "Brilho sutil ao redor": "subtle halo glow", "Efeito de aur√©ola (halo)": "halo effect", "Brilho forte (bloom)": "strong bloom effect",
      // Bordas
      "Sem bordas": "no borders", "Borda branca suave": "soft white border", "Borda escura": "dark border", "Borda branca espessa inferior (estilo polaroid)": "thick white bottom border (polaroid style)", "Borda de filme 35mm": "35mm film border", "Vinheta circular suave": "soft circular vignette"
  };

  const PROMPT_SUFFIX = ", 4k, hd, high-resolution photo, photorealistic, sharp focus, extremely detailed face and skin, no distortion, perfectly preserved original facial structure, maintain exact facial features: precise teeth shape and size, authentic nose structure, maintain face proportions and jawline, bone structure, exact distance between eyes, lip thickness, eyebrow shape, eye size, color and original gaze direction, same facial expressions and symmetry, maintain original body type, physique, and proportions, do not alter weight or body shape, people clearly visible, no blending or fusion";
  
  const presets = {
    "Upscaling Fiel": { plano: NEUTRO, lente: NEUTRO, abertura: NEUTRO, proporcao: NEUTRO, expressao: NEUTRO, iluminacao: NEUTRO, atmosfera: "Qualidade ultra-realista e n√≠tida (Upscaling)", borda: NEUTRO },
    "Neon Submerso (Cinem√°tico)": { plano: "Primeiro Plano", lente: "35mm", abertura: "f/2.0", proporcao: "--ar 16:9", expressao: "Express√£o s√©ria e misteriosa", iluminacao: "Luz de neon azul e rosa", atmosfera: "Ilumina√ß√£o dram√°tica de cinema", borda: "Sem bordas", efeitos_finais: { "Gotas de √°gua no rosto": true } },
    "Estilo Cl√°ssico do Flickr": { plano: "Plano M√©dio", lente: "50mm", abertura: "f/2.8", proporcao: "--ar 3:2", expressao: "Sorriso leve e olhar espont√¢neo", iluminacao: "Luz natural com sombras suaves", atmosfera: "Estilo e nitidez do Flickr", borda: "Sem bordas" },
    "Retrato Digital (Anos 2000)": { plano: "Plano M√©dio", lente: "35mm", abertura: "f/4.0", proporcao: "--ar 4:3", expressao: "Sorriso espont√¢neo e despreocupado", iluminacao: "Flash direto com sombra marcada", atmosfera: "Estilo c√¢mera digital (anos 2000)", borda: "Borda de filme 35mm" },
    "Foto de Filme (Anos 80)": { plano: "Plano M√©dio", lente: "50mm", abertura: "f/2.8", proporcao: "--ar 3:2", expressao: "Express√£o cool e despreocupada", iluminacao: "Luz de palco colorida", atmosfera: "Estilo filme anal√≥gico (anos 80)", borda: "Borda branca suave", efeitos_finais: { "Granulado de filme": true } },
    "Look Vintage (Anos 70)": { plano: "Plano Americano", lente: "50mm", abertura: "f/2.8", proporcao: "--ar 3:2", expressao: "Express√£o leve e nost√°lgica", iluminacao: "Luz natural suave com sombra dourada", atmosfera: "Estilo s√©pia quente (anos 70)", borda: "Borda branca suave", flare: { enabled: true, value: "Flare suave e dourado" } },
    "Foto para documento oficial": { plano: "Primeiro Plano", lente: "85mm", abertura: "f/8.0", iluminacao: "Ilumina√ß√£o suave frontal", atmosfera: "Fundo branco uniforme", expressao: "Express√£o neutra e direta", proporcao: "--ar 2:3", borda: "Sem bordas" },
    "Foto profissional (LinkedIn)": { plano: "Primeiro Plano", lente: "85mm", abertura: "f/2.8", iluminacao: "Ilumina√ß√£o suave lateral", atmosfera: "Tons neutros e limpos, fundo claro desfocado", expressao: "Express√£o simp√°tica e confiante", proporcao: "--ar 4:5", borda: "Sem bordas" },
    "Perfil do Instagram": { plano: "Primeiro Plano", lente: "35mm", abertura: "f/1.8", iluminacao: "Luz natural suave com sombra dourada", atmosfera: "Tonalidade quente, granula√ß√£o leve e desfoque org√¢nico", expressao: "Sorriso leve e olhar espont√¢neo", proporcao: "--ar 4:5", borda: "Sem bordas" },
    "Retrato vintage cl√°ssico": { plano: "Plano M√©dio", lente: "50mm", abertura: "f/2.8", iluminacao: "Flash direto com sombra marcada", atmosfera: "Textura de filme e tonalidade s√©pia", expressao: "Olhar direto, pose cl√°ssica e s√©ria", proporcao: "--ar 2:3", borda: "Borda branca suave" },
    "Polaroid de anivers√°rio": { plano: "Plano M√©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "Flash direto e luz ambiente", atmosfera: "Tons desbotados com vinheta e fundo suave", expressao: "Sorriso espont√¢neo e despreocupado", proporcao: "--ar 1:1", borda: "Borda branca espessa inferior (estilo polaroid)" },
    "Foto de casal na praia": { plano: "Plano Americano", lente: "35mm", abertura: "f/2.8", iluminacao: "Luz natural suave com sombra dourada", atmosfera: "Tonalidade quente, granula√ß√£o leve e desfoque org√¢nico", expressao: "Express√£o apaixonada e espont√¢nea", proporcao: "--ar 3:2", borda: "Sem bordas", local: { enabled: true, value: "Praia" } },
    "Capa estilo cinema": { plano: "Plano Americano", lente: "35mm", abertura: "f/2.8", iluminacao: "Luz natural com sombras suaves", atmosfera: "Ilumina√ß√£o dram√°tica de cinema", expressao: "Express√£o dram√°tica e contemplativa", proporcao: data.proporcoes["CinemaScope (2.39:1)"], borda: "Sem bordas" },
    "Foto art√≠stica com sombra": { plano: "Primeiro Plano", lente: "50mm", abertura: "f/1.8", iluminacao: "Luz lateral forte com fundo colorido", atmosfera: "Preto e branco com alto contraste", expressao: "Express√£o introspectiva", proporcao: "--ar 2:3", borda: "Sem bordas" },
    "Foto est√©tica tumblr": { plano: "Primeiro Plano", lente: "35mm", abertura: "f/1.8", iluminacao: "Luz natural suave com flare", atmosfera: "Cores lavadas, fundo desfocado, estilo tumblr", expressao: "Olhar introspectivo com leve ironia", proporcao: "--ar 4:5", borda: "Sem bordas" },
    "Capa de √°lbum indie": { plano: "Plano M√©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "Luz lateral forte com fundo colorido", atmosfera: "Cores lavadas e granula√ß√£o estilo VHS", expressao: "Express√£o distante e melanc√≥lica", proporcao: "--ar 1:1", borda: "Borda escura" },
    "Wallpaper iPhone": { plano: "Plano Americano", lente: "50mm", abertura: "f/2.8", iluminacao: "Ilumina√ß√£o de fundo e efeito de flare", atmosfera: "Alto contraste com fundo azulado ou esverdeado", expressao: "Express√£o introspectiva", proporcao: data.proporcoes["Wallpaper iPhone (1290x2796)"], borda: "Sem bordas" },
    "Wallpaper Samsung": { plano: "Plano Americano", lente: "50mm", abertura: "f/2.8", iluminacao: "Ilumina√ß√£o de fundo e efeito de flare", atmosfera: "Alto contraste com fundo azulado ou esverdeado", expressao: "Express√£o introspectiva", proporcao: data.proporcoes["Wallpaper Android (1080x2400)"], borda: "Sem bordas" },
    "Foto estilo franc√™s retr√¥": { plano: "Primeiro Plano", lente: "35mm", abertura: "f/2.8", iluminacao: "Ilumina√ß√£o difusa com sombra esverdeada", atmosfera: "Tons √¢mbar e fundo vintage", expressao: "Express√£o sonhadora e ir√¥nica", proporcao: "--ar 3:4", borda: "Sem bordas" },
    "Estilo anal√≥gico dos anos 90": { plano: "Plano M√©dio", lente: "35mm", abertura: "f/4.0", iluminacao: "Flash direto e luz ambiente", atmosfera: "Cores vibrantes e est√©tica de retrato de est√∫dio", expressao: "Express√£o cool e despreocupada", proporcao: "--ar 2:3", borda: "Borda branca suave" },
    "Foto editorial de moda": { plano: "Plano Americano", lente: "85mm", abertura: "f/2.8", iluminacao: "Luz frontal difusa com fundo liso", atmosfera: "Tons levemente saturados com nitidez alta", expressao: "Pose firme e olhar marcante", proporcao: "--ar 3:4", borda: "Sem bordas" },
    "Estilo cinema noir": { plano: "Plano M√©dio", lente: "50mm", abertura: "f/1.4", iluminacao: "Flash direto com sombra marcada", atmosfera: "Preto e branco com sombra marcada", expressao: "Express√£o s√©ria e misteriosa", proporcao: data.proporcoes["CinemaScope (2.39:1)"], borda: "Sem bordas" },
    "Foto de banda ao vivo": { plano: "Plano Americano", lente: "85mm", abertura: "f/2.0", iluminacao: "Luz de palco colorida", atmosfera: "Fuma√ßa e contraste din√¢mico", expressao: "Movimento e express√£o intensa", proporcao: "--ar 16:9", borda: "Sem bordas" },
    "Foto espont√¢nea ao ar livre": { plano: "Plano M√©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "Luz natural com sombras suaves", atmosfera: "Cores naturais com leve vinheta", expressao: "Risada espont√¢nea", proporcao: "--ar 3:4", borda: "Sem bordas" },
    "Foto documental de rua": { plano: "Plano Americano", lente: "35mm", abertura: "f/4.0", iluminacao: "Luz natural crua", atmosfera: "Contraste urbano e tons realistas", expressao: "Olhar direto para a lente", proporcao: "--ar 3:2", borda: "Sem bordas" },
    "Estilo capa de revista": { plano: "Primeiro Plano", lente: "85mm", abertura: "f/1.8", iluminacao: "Luz frontal com recorte limpo", atmosfera: "Tons levemente saturados com nitidez alta", expressao: "Olhar marcante e sofisticado", proporcao: data.proporcoes["Capa de Revista (8.5:11)"], borda: "Sem bordas" }
  };

  const dom = {};
  const getEl = (id) => dom[id] || (dom[id] = document.getElementById(id));
  const getEls = (selector) => dom[selector] || (dom[selector] = document.querySelectorAll(selector));
  const translate = (term) => traducoes[term] || term;

  const populateSelect = (id, options, useKeys = false) => {
    const select = getEl(id);
    select.innerHTML = `<option value="" disabled selected>Escolha uma op√ß√£o</option>`;
    if (useKeys) {
        Object.keys(options).forEach(key => select.add(new Option(key, options[key])));
    } else {
        options.forEach(opt => select.add(new Option(opt.replace("custom", "Outro..."), opt)));
    }
  };
  
  function updateUI(settings) {
    getEls('select[data-key]').forEach(el => el.value = "");
    getEls('.optional-control-wrapper input[type="checkbox"]').forEach(el => {
        el.checked = false;
        const controlledSelect = getEl(el.dataset.controls);
        controlledSelect.classList.add('hidden');
        if (controlledSelect.value === 'custom') {
            const customInput = getEl(`custom-${controlledSelect.id.replace('select-','')}`);
            if (customInput) customInput.classList.add('hidden');
        }
    });
    getEls('#effects-container input, #negative-prompts-container input').forEach(el => el.checked = false);

    for (const key in settings) {
      const value = settings[key];
      const mainEl = getEl(`select-${key}`);
      if (mainEl) {
        mainEl.value = value;
      } else if (key.startsWith('posicao_') || ['bokeh', 'flare', 'local', 'acao', 'lens_filter', 'glow'].includes(key)) {
        const checkEl = getEl(`check-${key.replace('_', '-')}`);
        const selectEl = getEl(`select-${key.replace('_', '-')}`);
        if (checkEl && selectEl && value.enabled) {
            checkEl.checked = true;
            selectEl.classList.remove('hidden');
            selectEl.value = value.value;
        }
      } else if (key === 'efeitos_finais' || key === 'prompts_negativos') {
        const prefix = key === 'efeitos_finais' ? 'effect' : 'negative';
        for (const effectKey in value) {
            if (value[effectKey]) {
                const checkbox = getEl(`check-${prefix}-${effectKey.replace(/[^\w]/g, '-')}`);
                if (checkbox) checkbox.checked = true;
            }
        }
      }
    }
    getEls('select[data-key]').forEach(s => { if(s.value === 'custom') s.dispatchEvent(new Event('change')) });
  }

  function gerarPrompt() {
    let parts = [`recreate the uploaded image as a photograph`];
    let negativeParts = [];
    let arPart = "";

    const processField = (key, isOptional = false) => {
        const el = getEl(`select-${key}`);
        if (!el) return null;
        if(isOptional && !getEl(`check-${key}`).checked) return null;
        
        let value = el.value;
        if (value === 'custom') {
            if(key === 'proporcao') {
                const w = getEl('custom-proporcao-w').value;
                const h = getEl('custom-proporcao-h').value;
                return (w && h) ? `--ar ${w}:${h}` : '';
            } else {
               const input = getEl(`custom-${key}`);
               return input.value.trim();
            }
        }
        return value;
    };
    
    try {
      ['plano', 'lente', 'abertura', 'proporcao', 'expressao', 'iluminacao', 'atmosfera', 'borda'].forEach(key => {
        if (!processField(key)) throw new Error(`O campo "${getEl('select-' + key).parentElement.querySelector('label')?.textContent || key.charAt(0).toUpperCase() + key.slice(1)}" √© obrigat√≥rio.`);
      });
      
      const addPart = (key, template) => {
          const value = processField(key);
          if (value && value !== NEUTRO) parts.push(template.replace('{val}', translate(value)));
      };
      
      const addOptionalPart = (key, template) => {
          const value = processField(key, true);
          if (value && value !== NEUTRO) parts.push(template.replace('{val}', translate(value)));
      };
      
      const addCustomPart = (key, template) => {
          const value = processField(key, true);
          if (value) parts.push(template.replace('{val}', value)); // No translation for custom input
      };

      addPart('plano', `{val}`);
      addPart('lente', `with a ${processField('lente')}`);
      addPart('abertura', `aperture ${processField('abertura')}, shallow depth of field`);
      addPart('iluminacao', `{val}`);
      addPart('atmosfera', `with a {val} atmosphere`);
      addPart('expressao', `with {val}`);
      
      arPart = processField('proporcao') === NEUTRO ? '' : processField('proporcao');
      
      addOptionalPart('posicao_cabeca', `{val}`);
      addOptionalPart('posicao_corpo', `{val}`);
      addOptionalPart('posicao_bracos', `{val}`);
      addOptionalPart('posicao_pernas', `{val}`);
      addOptionalPart('bokeh', `with {val}`);
      addOptionalPart('flare', `with a {val}`);
      addOptionalPart('lens_filter', `with a {val}`);
      addOptionalPart('glow', `with a {val}`);
      addCustomPart('local', `in {val}`);
      addCustomPart('acao', `while {val}`);
      
      const finalEffects = [];
      Object.keys(data.efeitos_finais).forEach(key => {
          if (getEl(`check-effect-${key.replace(/[^\w]/g, '-')}`).checked) finalEffects.push(key);
      });
      if(finalEffects.length > 0) parts.push(`including ${finalEffects.join(', ')}`);
      
      addPart('borda', `{val}`);

      Object.entries(data.prompts_negativos).forEach(([key, value]) => {
          if (getEl(`check-negative-${key.replace(/[^\w]/g, '-')}`).checked) negativeParts.push(value);
      });

      let promptFinal = parts.join(', ').replace(/, ,/g, ',').replace(/, with/g, ' with').replace(/, in /g, ' in ').replace(/, while/g, ' while ');
      promptFinal += " " + arPart + PROMPT_SUFFIX;
      if (negativeParts.length > 0) {
        promptFinal += ` --no ${negativeParts.join(', ')}`;
      }
      getEl('prompt-output').value = promptFinal.toLowerCase();
      getEl('copy-feedback').classList.add('hidden');

    } catch (e) {
        alert(e.message);
    }
  }

  async function copiarPrompt() {
    const promptText = getEl('prompt-output').value;
    if (!promptText.trim()) {
      alert("Gere um prompt antes de copiar.");
      return;
    }
    await navigator.clipboard.writeText(promptText);
    getEl('copy-feedback').classList.remove('hidden');
    setTimeout(() => getEl('copy-feedback').classList.add('hidden'), 2000);
  }

  function resetAll() {
    getEl('preset-select').value = "";
    getEls('select[data-key]').forEach(el => el.value = "");
    getEls('.optional-control-wrapper input[type="checkbox"]').forEach(check => {
        check.checked = false;
        check.dispatchEvent(new Event('change'));
    });
    getEls('#effects-container input, #negative-prompts-container input').forEach(el => el.checked = false);
    getEl('prompt-output').value = "";
    getEl('copy-feedback').classList.add('hidden');
  }

  function initialize() {
    populateSelect('preset-select', Object.keys(presets));
    populateSelect('select-plano', data.planos);
    populateSelect('select-lente', data.lentes);
    populateSelect('select-abertura', data.aberturas);
    populateSelect('select-proporcao', data.proporcoes, true);
    populateSelect('select-expressao', data.expressoes);
    populateSelect('select-posicao-cabeca', data.posicoes_cabeca);
    populateSelect('select-posicao-corpo', data.posicoes_corpo);
    populateSelect('select-posicao-bracos', data.posicoes_bracos);
    populateSelect('select-posicao-pernas', data.posicoes_pernas);
    populateSelect('select-local', data.locais);
    populateSelect('select-acao', data.acoes);
    populateSelect('select-iluminacao', data.iluminacoes);
    populateSelect('select-atmosfera', data.atmosferas);
    populateSelect('select-bokeh', data.bokehs);
    populateSelect('select-flare', data.flares);
    populateSelect('select-lens_filter', data.lens_filters);
    populateSelect('select-glow', data.glows);
    populateSelect('select-borda', data.bordas);
    
    const createCheckbox = (containerId, dataObj, type) => {
        const container = getEl(containerId);
        Object.keys(dataObj).forEach(key => {
            const id = key.replace(/[^\w]/g, '-');
            const div = document.createElement('div');
            div.className = 'flex items-center';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `check-${type}-${id}`;
            const label = document.createElement('label');
            label.htmlFor = `check-${type}-${id}`;
            label.textContent = key;
            label.className = 'ml-2 text-sm text-gray-700 cursor-pointer';
            div.append(checkbox, label);
            container.appendChild(div);
        });
    };
    createCheckbox('effects-container', data.efeitos_finais, 'effect');
    createCheckbox('negative-prompts-container', data.prompts_negativos, 'negative');

    getEl('preset-select').addEventListener('change', (e) => {
      if (e.target.value) {
        updateUI(presets[e.target.value])
      }
    });
    getEl('generate-button').addEventListener('click', gerarPrompt);
    getEl('copy-button').addEventListener('click', copiarPrompt);
    getEl('clear-button').addEventListener('click', resetAll);
    getEl('prompt-output').addEventListener('input', () => getEl('copy-feedback').classList.add('hidden'));

    getEls('.tab-button').forEach(tab => {
      tab.addEventListener('click', () => {
        getEls('.tab-button').forEach(t => t.classList.remove('active-tab'));
        tab.classList.add('active-tab');
        getEls('.tab-panel').forEach(panel => panel.classList.add('hidden'));
        getEl(tab.dataset.tab).classList.remove('hidden');
      });
    });

    getEls('.optional-control-wrapper input[type="checkbox"]').forEach(check => {
        check.addEventListener('change', (e) => {
            const select = getEl(e.target.dataset.controls);
            select.classList.toggle('hidden', !e.target.checked);
            if(select.value === 'custom') {
                const customInput = getEl(`custom-${select.id.replace('select-','')}`);
                if (customInput) customInput.classList.toggle('hidden', !e.target.checked);
            }
        });
    });
    
    const handleCustomWithInput = (selectId, inputId) => {
        const select = getEl(selectId);
        const input = getEl(inputId);
        select.addEventListener('change', () => {
            const isCustom = select.value === 'custom';
            const isChecked = getEl(`check-${select.id.replace('select-', '')}`).checked;
            input.classList.toggle('hidden', !isCustom || !isChecked);
            if(!isCustom) input.value = '';
        });
    }

    handleCustomWithInput('select-local', 'custom-local');
    handleCustomWithInput('select-acao', 'custom-acao');

    const handleCustomWrapper = (selectId, wrapperId) => getEl(selectId).addEventListener('change', () => getEl(wrapperId).classList.toggle('hidden', getEl(selectId).value !== 'custom'));
    handleCustomWrapper('select-lente', 'custom-lente-wrapper');
    handleCustomWrapper('select-abertura', 'custom-abertura-wrapper');
    handleCustomWrapper('select-proporcao', 'custom-proporcao-wrapper');
    
    const accordions = getEls('#accordion-container details');
    accordions.forEach(accordion => {
      accordion.addEventListener('toggle', (event) => {
        if (event.target.open) {
          accordions.forEach(otherAccordion => {
            if (otherAccordion !== event.target) {
              otherAccordion.open = false;
            }
          });
        }
      });
    });
  }

  initialize();
});
</script>

</body>
</html>
