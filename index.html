<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PromptStudio</title>
  <!-- Incluindo o Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Estilos adicionais para replicar a aparÃªncia dos componentes shadcn/ui */
    body {
      background-color: #f9fafb; /* bg-gray-50 */
    }
    select, textarea, button {
      transition: all 0.2s ease-in-out;
    }
    select:focus, textarea:focus {
      outline: 2px solid transparent;
      outline-offset: 2px;
      --tw-ring-color: #8b5cf6; /* violet-500 */
      box-shadow: 0 0 0 2px var(--tw-ring-color);
      border-color: #a78bfa; /* violet-400 */
    }
    /* Estilo para o placeholder do select */
    select:invalid {
      color: #6b7280; /* text-gray-500 */
    }
    /* Remove o marcador padrÃ£o do <summary> em todos os navegadores */
    summary {
      list-style: none; /* Firefox */
    }
    summary::-webkit-details-marker {
      display: none; /* Chrome, Safari */
    }
  </style>
</head>
<body>

  <div id="root" class="max-w-3xl mx-auto px-4 py-6">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-6 tracking-tight">PromptStudio</h1>
    <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6 space-y-6">
      <div class="space-y-6">
        <div>
          <label for="preset-select" class="text-gray-700 text-sm font-medium block mb-2">Estilo predefinido (Opcional)</label>
          <select id="preset-select" class="w-full p-2 rounded-xl border-gray-300 border bg-white">
            <option value="" disabled selected>Escolha um modelo para comeÃ§ar</option>
            <!-- As opÃ§Ãµes de preset serÃ£o preenchidas por JavaScript -->
          </select>
        </div>

        <!-- Campos de ConfiguraÃ§Ã£o -->
        <div id="settings-container" class="space-y-4">
          <div>
            <label for="select-plano" class="block mb-1">Plano (enquadramento da imagem)</label>
            <select id="select-plano" data-key="plano" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
              <option value="" disabled selected>Selecione o enquadramento</option>
              <option value="primeiro plano">primeiro plano</option>
              <option value="plano mÃ©dio">plano mÃ©dio</option>
              <option value="plano americano">plano americano</option>
            </select>
          </div>
          <div>
            <label for="select-lente" class="block mb-1">Lente (distÃ¢ncia focal usada)</label>
            <select id="select-lente" data-key="lente" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
              <option value="" disabled selected>Selecione a lente</option>
              <option value="35mm">35mm</option>
              <option value="85mm">85mm</option>
              <option value="50mm">50mm</option>
              <option value="24mm">24mm</option>
            </select>
          </div>
          <div>
            <label for="select-abertura" class="block mb-1">Abertura do diafragma (profundidade de campo)</label>
            <select id="select-abertura" data-key="abertura" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
              <option value="" disabled selected>Selecione a abertura</option>
              <option value="f/1.4">f/1.4</option>
              <option value="f/1.8">f/1.8</option>
              <option value="f/2.0">f/2.0</option>
              <option value="f/2.8">f/2.8</option>
              <option value="f/4">f/4</option>
              <option value="f/8">f/8</option>
            </select>
          </div>
          <div>
            <label for="select-iluminacao" class="block mb-1">IluminaÃ§Ã£o (tipo de luz utilizada)</label>
            <select id="select-iluminacao" data-key="iluminacao" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
                <option value="" disabled selected>Selecione a iluminaÃ§Ã£o</option>
                <option value="iluminaÃ§Ã£o suave frontal">iluminaÃ§Ã£o suave frontal</option>
                <option value="luz natural com sombras suaves">luz natural com sombras suaves</option>
                <option value="flash direto com sombra marcada">flash direto com sombra marcada</option>
                <option value="luz lateral forte com fundo colorido">luz lateral forte com fundo colorido</option>
                <option value="iluminaÃ§Ã£o de fundo e efeito de flare">iluminaÃ§Ã£o de fundo e efeito de flare</option>
                <option value="luz natural suave com sombra dourada">luz natural suave com sombra dourada</option>
                <option value="flash direto e luz ambiente">flash direto e luz ambiente</option>
                <option value="luz lateral natural com flare leve">luz lateral natural com flare leve</option>
                <option value="iluminaÃ§Ã£o difusa com sombra esverdeada">iluminaÃ§Ã£o difusa com sombra esverdeada</option>
                <option value="luz natural crua">luz natural crua</option>
                <option value="luz frontal difusa com fundo liso">luz frontal difusa com fundo liso</option>
                <option value="luz frontal com recorte limpo">luz frontal com recorte limpo</option>
                <option value="iluminaÃ§Ã£o suave lateral">iluminaÃ§Ã£o suave lateral</option>
                <option value="luz natural suave com flare">luz natural suave com flare</option>
                <option value="luz de palco colorida">luz de palco colorida</option>
            </select>
          </div>
          <div>
            <label for="select-atmosfera" class="block mb-1">Atmosfera/estilo visual (cores, textura, tom)</label>
            <select id="select-atmosfera" data-key="atmosfera" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
                <option value="" disabled selected>Selecione a atmosfera</option>
                <option value="tons neutros e limpos, fundo claro desfocado">tons neutros e limpos, fundo claro desfocado</option>
                <option value="tons levemente saturados com nitidez alta">tons levemente saturados com nitidez alta</option>
                <option value="cores lavadas e granulaÃ§Ã£o estilo VHS">cores lavadas e granulaÃ§Ã£o estilo VHS</option>
                <option value="cores vibrantes e estÃ©tica de retrato de estÃºdio">cores vibrantes e estÃ©tica de retrato de estÃºdio</option>
                <option value="alto contraste com fundo azulado ou esverdeado">alto contraste com fundo azulado ou esverdeado</option>
                <option value="tonalidade quente, granulaÃ§Ã£o leve e desfoque orgÃ¢nico">tonalidade quente, granulaÃ§Ã£o leve e desfoque orgÃ¢nico</option>
                <option value="tons desbotados com vinheta e fundo suave">tons desbotados com vinheta e fundo suave</option>
                <option value="cores lavadas, fundo desfocado, estilo tumblr">cores lavadas, fundo desfocado, estilo tumblr</option>
                <option value="textura de filme e tonalidade sÃ©pia">textura de filme e tonalidade sÃ©pia</option>
                <option value="fundo branco uniforme">fundo branco uniforme</option>
                <option value="tons Ã¢mbar e fundo vintage">tons Ã¢mbar e fundo vintage</option>
                <option value="preto e branco com alto contraste">preto e branco com alto contraste</option>
                <option value="preto e branco com sombra marcada">preto e branco com sombra marcada</option>
                <option value="contraste urbano e tons realistas">contraste urbano e tons realistas</option>
                <option value="fumaÃ§a e contraste dinÃ¢mico">fumaÃ§a e contraste dinÃ¢mico</option>
                <option value="cores naturais com leve vinheta">cores naturais com leve vinheta</option>
            </select>
          </div>
          <div>
            <label for="select-expressao" class="block mb-1">ExpressÃ£o (emoÃ§Ã£o transmitida pela imagem)</label>
            <select id="select-expressao" data-key="expressao" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
                <option value="" disabled selected>Selecione a expressÃ£o</option>
                <option value="expressÃ£o simpÃ¡tica e confiante">expressÃ£o simpÃ¡tica e confiante</option>
                <option value="expressÃ£o espontÃ¢nea e introspectiva">expressÃ£o espontÃ¢nea e introspectiva</option>
                <option value="expressÃ£o descontraÃ­da e nostÃ¡lgica">expressÃ£o descontraÃ­da e nostÃ¡lgica</option>
                <option value="olhar direto, pose clÃ¡ssica e sÃ©ria">olhar direto, pose clÃ¡ssica e sÃ©ria</option>
                <option value="expressÃ£o cool e despreocupada">expressÃ£o cool e despreocupada</option>
                <option value="expressÃ£o leve e nostÃ¡lgica">expressÃ£o leve e nostÃ¡lgica</option>
                <option value="sorriso espontÃ¢neo e despreocupado">sorriso espontÃ¢neo e despreocupado</option>
                <option value="olhar introspectivo com leve ironia">olhar introspectivo com leve ironia</option>
                <option value="expressÃ£o neutra e direta">expressÃ£o neutra e direta</option>
                <option value="sorriso leve e olhar espontÃ¢neo">sorriso leve e olhar espontÃ¢neo</option>
                <option value="expressÃ£o dramÃ¡tica e contemplativa">expressÃ£o dramÃ¡tica e contemplativa</option>
                <option value="expressÃ£o introspectiva">expressÃ£o introspectiva</option>
                <option value="expressÃ£o apaixonada e espontÃ¢nea">expressÃ£o apaixonada e espontÃ¢nea</option>
                <option value="expressÃ£o distante e melancÃ³lica">expressÃ£o distante e melancÃ³lica</option>
                <option value="expressÃ£o sÃ©ria e misteriosa">expressÃ£o sÃ©ria e misteriosa</option>
                <option value="risada espontÃ¢nea">risada espontÃ¢nea</option>
                <option value="olhar direto para a lente">olhar direto para a lente</option>
                <option value="olhar marcante e sofisticado">olhar marcante e sofisticado</option>
                <option value="pose firme e olhar marcante">pose firme e olhar marcante</option>
                <option value="expressÃ£o sonhadora e irÃ´nica">expressÃ£o sonhadora e irÃ´nica</option>
                <option value="movimento e expressÃ£o intensa">movimento e expressÃ£o intensa</option>
            </select>
          </div>
          <div>
            <label for="select-proporcao" class="block mb-1">ProporÃ§Ã£o da foto (relaÃ§Ã£o largura-altura)</label>
            <select id="select-proporcao" data-key="proporcao" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
              <option value="" disabled selected>Selecione a proporÃ§Ã£o</option>
              <!-- OpÃ§Ãµes preenchidas por JS -->
            </select>
          </div>
          <div>
            <label for="select-borda" class="block mb-1">Tipo de borda (acabamento da imagem)</label>
            <select id="select-borda" data-key="borda" class="w-full p-2 rounded-md border-gray-300 border bg-white" required>
                <option value="" disabled selected>Selecione o tipo de borda</option>
                <option value="sem bordas">sem bordas</option>
                <option value="borda branca suave">borda branca suave</option>
                <option value="borda escura">borda escura</option>
                <option value="borda branca espessa inferior (estilo polaroid)">borda branca espessa inferior (estilo polaroid)</option>
            </select>
          </div>
        </div>

        <div>
          <label class="text-gray-700 text-sm font-medium">Elementos adicionais</label>
          <div id="effects-container" class="grid grid-cols-2 gap-2 mt-2">
            <!-- Checkboxes preenchidos por JS -->
          </div>
        </div>

        <textarea id="prompt-output" rows="4" class="w-full p-2 rounded-xl border-gray-300 border" placeholder="Seu prompt serÃ¡ gerado aqui..."></textarea>

        <div class="flex flex-col items-center space-y-4">
          <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
            <button id="generate-button" class="w-full sm:w-auto px-4 py-2 bg-violet-600 text-white rounded-xl hover:bg-violet-700">
              Gerar Prompt
            </button>
            <button id="copy-button" class="w-full sm:w-auto px-4 py-2 bg-violet-600 text-white rounded-xl hover:bg-violet-700">
              Copiar Prompt
            </button>
          </div>
          <div id="copy-feedback" class="hidden">
            <svg class="text-green-500 animate-pulse mt-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 6 9 17l-5-5"></path>
            </svg>
          </div>
        </div>
      </div>
    </div>
    
    <!-- INÃCIO DA SEÃ‡ÃƒO DE ORIENTAÃ‡Ã•ES -->
    <div id="accordion-container" class="mt-8 space-y-4">
      
      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 rounded-lg">
          ğŸ› ï¸ Como usar o gerador de prompt?
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p>ğŸ”¸ <strong>1. Escolha os elementos visuais</strong><br>ğŸ¨ Marque os detalhes que quer na imagem: tipo de rosto, estilo, clima, lente, iluminaÃ§Ã£o, etc.</p>
          <p>ğŸ”¸ <strong>2. Clique em â€œGerar Promptâ€</strong><br>âš¡ O app vai criar um texto descritivo baseado nas opÃ§Ãµes que vocÃª marcou.</p>
          <p>ğŸ”¸ <strong>3. Copie o prompt</strong><br>ğŸ“‹ Clique em â€œCopiarâ€ pra salvar o texto automaticamente.</p>
          <p>ğŸ”¸ <strong>4. VÃ¡ atÃ© a sua IA favorita (como Midjourney ou Leonardo AI)</strong><br>ğŸ§  Escolha o campo de geraÃ§Ã£o de imagem via prompt.</p>
          <p>ğŸ”¸ <strong>5. FaÃ§a o upload da foto que quer estilizar</strong><br>ğŸ“¸ Use uma imagem clara, bem iluminada e com rosto visÃ­vel (veja nossas dicas!).</p>
          <p>ğŸ”¸ <strong>6. Cole o prompt no campo de texto</strong><br>ğŸ“ Depois de subir a imagem, cole o prompt no mesmo espaÃ§o.</p>
          <p>ğŸ”¸ <strong>7. Pronto!</strong><br>ğŸš€ Agora Ã© sÃ³ gerar a imagem estilizada com base na sua foto + descriÃ§Ã£o!</p>
          <p class="pt-2 italic text-sm text-gray-500"><strong>Dica extra:</strong> vocÃª pode repetir o processo mudando sÃ³ alguns elementos do prompt pra testar novos estilos ğŸ˜‰</p>
        </div>
      </details>

      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 rounded-lg">
          ğŸ“· Como escolher a melhor foto pra usar no gerador?
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p>ğŸ”¹ <strong>1. Prefira fundo limpo ou desfocado</strong><br>ğŸ§± Parede lisa, cÃ©u, cortina ou natureza simples funcionam melhor. Evite bagunÃ§a no fundo!</p>
          <p>ğŸ”¹ <strong>2. Boa iluminaÃ§Ã£o ajuda muito!</strong><br>ğŸ’¡ Use luz natural ou ambiente bem claro. Evite foto escura ou contra o sol.</p>
          <p>ğŸ”¹ <strong>3. Centralize o rosto ou o corpo</strong><br>ğŸ“ A pessoa deve estar bem no centro da imagem. Nada de foto cortada ou torta!</p>
          <p>ğŸ”¹ <strong>4. Use expressÃ£o leve ou natural</strong><br>ğŸ˜ Rosto neutro, tranquilo ou sonhador funciona melhor que careta ou exagero.</p>
          <p>ğŸ”¹ <strong>5. Evite selfies muito prÃ³ximas</strong><br>ğŸ¤³ Foto com o celular colado no rosto distorce. DÃª um passinho pra trÃ¡s!</p>
          <p>ğŸ”¹ <strong>6. Use fotos nÃ­tidas e sem filtro</strong><br>ğŸ–¼ï¸ Nada de foto borrada ou cheia de filtro. Quanto mais limpa, melhor o resultado.</p>
          <p>ğŸ”¹ <strong>7. Cores naturais sÃ£o melhores</strong><br>ğŸ¨ Prefira fotos com tons reais de pele e luz. Esquece os filtros roxos por agora!</p>
        </div>
      </details>

      <details class="bg-white border rounded-lg shadow-sm transition-all duration-300">
        <summary class="p-4 text-center text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 rounded-lg">
          ğŸš« Dicas pra evitar bloqueios nas IAs geradoras
        </summary>
        <div class="p-6 border-t border-gray-200 text-gray-700 space-y-4">
          <p>ğŸ”¸ <strong>1. Nada de nudez ou pouca roupa</strong><br>ğŸ™…â€â™€ï¸ Evite fotos sem camisa, com lingerie, trajes Ã­ntimos ou poses sensuais demais. A IA pode bloquear ou banir.</p>
          <p>ğŸ”¸ <strong>2. NÃ£o use fotos de crianÃ§as ou adolescentes</strong><br>ğŸ§’ Por seguranÃ§a e Ã©tica, evite qualquer imagem de menores de idade, mesmo com roupa. Pode gerar restriÃ§Ã£o automÃ¡tica.</p>
          <p>ğŸ”¸ <strong>3. Cuidado com conteÃºdo sensÃ­vel</strong><br>ğŸš¬ğŸ’‰ Fotos com uso de cigarro, Ã¡lcool, armas, drogas ou cenas violentas nÃ£o sÃ£o permitidas em muitas plataformas.</p>
          <p>ğŸ”¸ <strong>4. Evite expressÃµes ou gestos ofensivos</strong><br>ğŸ–•ğŸ¤¬ Nada de caretas agressivas, dedo do meio ou sinais que possam ser considerados ofensivos.</p>
          <p>ğŸ”¸ <strong>5. NÃ£o tente imitar celebridades ou figuras pÃºblicas</strong><br>ğŸ­ A maioria das IAs proÃ­be o uso da imagem de pessoas famosas, mesmo como referÃªncia indireta.</p>
          <p>ğŸ”¸ <strong>6. Respeite a privacidade</strong><br>ğŸ”’ Nunca use fotos de outras pessoas sem autorizaÃ§Ã£o. Especialmente se for alguÃ©m reconhecÃ­vel.</p>
          <p>ğŸ”¸ <strong>7. Nada de conteÃºdo sexual, violento ou chocante</strong><br>âš ï¸ Isso inclui ferimentos, sangue, fetiches, insinuaÃ§Ãµes ou qualquer tema que possa chocar. A IA pode rejeitar o prompt e atÃ© restringir seu acesso.</p>
          <p class="pt-2 italic text-sm text-red-500"><strong>ğŸ’¡ Dica final:</strong> se vocÃª olhar pra imagem e pensar â€œserÃ¡ que isso pode dar problema?â€... provavelmente Ã© melhor escolher outra ğŸ˜…</p>
        </div>
      </details>

    </div>
    <!-- FIM DA SEÃ‡ÃƒO DE ORIENTAÃ‡Ã•ES -->

    <p class="text-xs text-center text-gray-400 mt-6">
      Criado por <span class="font-semibold">@moisesdovalesouza</span> Â· 2025
    </p>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const presets = {
    "Foto para documento oficial": { plano: "primeiro plano", lente: "85mm", abertura: "f/2.8", iluminacao: "iluminaÃ§Ã£o suave frontal", atmosfera: "fundo branco uniforme", expressao: "expressÃ£o neutra e direta", proporcao: "3:4 (vertical)", borda: "sem bordas" },
    "Foto profissional (LinkedIn)": { plano: "primeiro plano", lente: "85mm", abertura: "f/2.8", iluminacao: "iluminaÃ§Ã£o suave lateral", atmosfera: "tons neutros e limpos, fundo claro desfocado", expressao: "expressÃ£o simpÃ¡tica e confiante", proporcao: "3:4 (vertical)", borda: "sem bordas" },
    "Perfil do Instagram": { plano: "primeiro plano", lente: "35mm", abertura: "f/1.8", iluminacao: "luz natural suave com sombra dourada", atmosfera: "tonalidade quente, granulaÃ§Ã£o leve e desfoque orgÃ¢nico", expressao: "sorriso leve e olhar espontÃ¢neo", proporcao: "4:5 (vertical)", borda: "sem bordas" },
    "Retrato vintage clÃ¡ssico": { plano: "plano mÃ©dio", lente: "50mm", abertura: "f/2.8", iluminacao: "flash direto com sombra marcada", atmosfera: "textura de filme e tonalidade sÃ©pia", expressao: "olhar direto, pose clÃ¡ssica e sÃ©ria", proporcao: "2:3 (vertical)", borda: "borda branca suave" },
    "Polaroid de aniversÃ¡rio": { plano: "plano mÃ©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "flash direto e luz ambiente", atmosfera: "tons desbotados com vinheta e fundo suave", expressao: "sorriso espontÃ¢neo e despreocupado", proporcao: "1:1 com espaÃ§o inferior ampliado", borda: "borda branca espessa inferior (estilo polaroid)" },
    "Foto de casal na praia": { plano: "plano americano", lente: "35mm", abertura: "f/2.8", iluminacao: "luz natural suave com sombra dourada", atmosfera: "tonalidade quente, granulaÃ§Ã£o leve e desfoque orgÃ¢nico", expressao: "expressÃ£o apaixonada e espontÃ¢nea", proporcao: "3:4 (horizontal)", borda: "sem bordas" },
    "Capa estilo cinema": { plano: "plano americano", lente: "35mm", abertura: "f/2.8", iluminacao: "luz natural com sombras suaves", atmosfera: "alto contraste com fundo azulado ou esverdeado", expressao: "expressÃ£o dramÃ¡tica e contemplativa", proporcao: "2.39:1 (horizontal)", borda: "sem bordas" },
    "Foto artÃ­stica com sombra": { plano: "primeiro plano", lente: "50mm", abertura: "f/1.8", iluminacao: "luz lateral forte com fundo colorido", atmosfera: "preto e branco com alto contraste", expressao: "expressÃ£o introspectiva", proporcao: "2:3 (vertical)", borda: "sem bordas" },
    "Foto estÃ©tica tumblr": { plano: "primeiro plano", lente: "35mm", abertura: "f/1.8", iluminacao: "luz natural suave com flare", atmosfera: "cores lavadas, fundo desfocado, estilo tumblr", expressao: "olhar introspectivo com leve ironia", proporcao: "4:5 (vertical)", borda: "sem bordas" },
    "Capa de Ã¡lbum indie": { plano: "plano mÃ©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "luz lateral forte com fundo colorido", atmosfera: "cores lavadas e granulaÃ§Ã£o estilo VHS", expressao: "expressÃ£o distante e melancÃ³lica", proporcao: "1:1 (quadrado)", borda: "borda escura" },
    "Wallpaper iPhone": { plano: "plano americano", lente: "50mm", abertura: "f/2.8", iluminacao: "iluminaÃ§Ã£o de fundo e efeito de flare", atmosfera: "alto contraste com fundo azulado ou esverdeado", expressao: "expressÃ£o introspectiva", proporcao: "19.5:9 (iPhone)", borda: "sem bordas" },
    "Wallpaper Samsung": { plano: "plano americano", lente: "50mm", abertura: "f/2.8", iluminacao: "iluminaÃ§Ã£o de fundo e efeito de flare", atmosfera: "alto contraste com fundo azulado ou esverdeado", expressao: "expressÃ£o introspectiva", proporcao: "20:9 (Samsung Galaxy)", borda: "sem bordas" },
    "Foto estilo francÃªs retrÃ´": { plano: "primeiro plano", lente: "35mm", abertura: "f/2.8", iluminacao: "iluminaÃ§Ã£o difusa com sombra esverdeada", atmosfera: "tons Ã¢mbar e fundo vintage", expressao: "expressÃ£o sonhadora e irÃ´nica", proporcao: "3:4 (vertical)", borda: "sem bordas" },
    "Estilo analÃ³gico dos anos 90": { plano: "plano mÃ©dio", lente: "35mm", abertura: "f/4", iluminacao: "flash direto e luz ambiente", atmosfera: "cores vibrantes e estÃ©tica de retrato de estÃºdio", expressao: "expressÃ£o cool e despreocupada", proporcao: "2:3 (vertical)", borda: "borda branca suave" },
    "Foto editorial de moda": { plano: "plano americano", lente: "85mm", abertura: "f/2.8", iluminacao: "luz frontal difusa com fundo liso", atmosfera: "tons levemente saturados com nitidez alta", expressao: "pose firme e olhar marcante", proporcao: "3:4 (vertical)", borda: "sem bordas" },
    "Estilo cinema noir": { plano: "plano mÃ©dio", lente: "50mm", abertura: "f/1.4", iluminacao: "flash direto com sombra marcada", atmosfera: "preto e branco com sombra marcada", expressao: "expressÃ£o sÃ©ria e misteriosa", proporcao: "2.39:1 (horizontal)", borda: "sem bordas" },
    "Foto de banda ao vivo": { plano: "plano americano", lente: "85mm", abertura: "f/2.0", iluminacao: "luz de palco colorida", atmosfera: "fumaÃ§a e contraste dinÃ¢mico", expressao: "movimento e expressÃ£o intensa", proporcao: "16:9 (horizontal)", borda: "sem bordas" },
    "Foto espontÃ¢nea ao ar livre": { plano: "plano mÃ©dio", lente: "35mm", abertura: "f/2.8", iluminacao: "luz natural com sombras suaves", atmosfera: "cores naturais com leve vinheta", expressao: "risada espontÃ¢nea", proporcao: "3:4 (vertical)", borda: "sem bordas" },
    "Foto documental de rua": { plano: "plano americano", lente: "35mm", abertura: "f/4", iluminacao: "luz natural crua", atmosfera: "contraste urbano e tons realistas", expressao: "olhar direto para a lente", proporcao: "2:3 (horizontal)", borda: "sem bordas" },
    "Estilo capa de revista": { plano: "primeiro plano", lente: "85mm", abertura: "f/1.8", iluminacao: "luz frontal com recorte limpo", atmosfera: "tons levemente saturados com nitidez alta", expressao: "olhar marcante e sofisticado", proporcao: "8.5:11 (vertical)", borda: "sem bordas" }
  };
  
  const proporcoes = [ "1:1 (quadrado)", "1:1 com espaÃ§o inferior ampliado", "2:3 (vertical)", "2:3 (horizontal)", "3:4 (vertical)", "3:4 (horizontal)", "4:5 (vertical)", "4:5 (horizontal)", "16:9 (vertical)", "16:9 (horizontal)", "9:16 (vertical)", "9:16 (horizontal)", "2.39:1 (vertical)", "2.39:1 (horizontal)", "19.5:9 (iPhone)", "20:9 (Samsung Galaxy)", "8.5:11 (vertical)" ];

  // --- State Variables ---
  let settings = {};
  let efeitos = { data: false, vazamento: false, pelos: false, granulado: false, poeira: false, vinheta: false, gotas: false, neve: false, sol: false, vapor: false, brilho: false, respingos: false };

  // --- DOM Elements ---
  const presetSelect = document.getElementById('preset-select');
  const settingsSelects = document.querySelectorAll('#settings-container select');
  const effectsContainer = document.getElementById('effects-container');
  const promptOutput = document.getElementById('prompt-output');
  const generateButton = document.getElementById('generate-button');
  const copyButton = document.getElementById('copy-button');
  const copyFeedback = document.getElementById('copy-feedback');
  const proporcaoSelect = document.getElementById('select-proporcao');

  // --- Functions ---
  function updateSettingsFromUI() {
    settings = {}; 
    settingsSelects.forEach(select => {
      const key = select.dataset.key;
      settings[key] = select.value;
    });
  }
  
  function updateUI(newSettings) {
    settings = { ...newSettings };
    settingsSelects.forEach(select => {
      const key = select.dataset.key;
      if (settings[key]) {
        select.value = settings[key];
      }
    });
    Object.keys(efeitos).forEach(key => {
        efeitos[key] = false;
        document.getElementById(`checkbox-${key}`).checked = false;
    });
  }

  function aplicarPreset(presetName) {
    if (presets[presetName]) {
      updateUI(presets[presetName]);
    }
  }

  function gerarPrompt() {
    updateSettingsFromUI();
    const requiredFields = ['plano', 'lente', 'abertura', 'iluminacao', 'atmosfera', 'expressao', 'proporcao', 'borda'];
    for (const field of requiredFields) {
        if (!settings[field]) {
            alert(`Por favor, preencha o campo "${document.querySelector(`label[for=select-${field}]`).textContent}" antes de gerar o prompt.`);
            return;
        }
    }

    let extras = [];
    Object.entries(efeitos).forEach(([key, value]) => {
      if (value) {
        if (key === 'data') extras.push("data impressa na imagem");
        if (key === 'vazamento') extras.push("vazamento de luz nostÃ¡lgico");
        if (key === 'pelos') extras.push("pequenos pelos ou sujeiras tÃ­picas de filme");
        if (key === 'granulado') extras.push("granulaÃ§Ã£o analÃ³gica visÃ­vel");
        if (key === 'poeira') extras.push("poeira solar dispersa");
        if (key === 'vinheta') extras.push("vinheta escura nas bordas");
        if (key === 'gotas') extras.push("gotas de Ã¡gua escorrendo no rosto");
        if (key === 'neve') extras.push("flocos de neve dispersos");
        if (key === 'sol') extras.push("raios de sol incidindo pela lateral");
        if (key === 'vapor') extras.push("vapor suave envolvendo a imagem");
        if (key === 'brilho') extras.push("pontos de brilho suave no fundo");
        if (key === 'respingos') extras.push("respingos d'Ã¡gua ou partÃ­culas suspensas");
      }
    });

    const texto = `Gere o retrato em ${settings.plano} com lente de ${settings.lente}, proporÃ§Ã£o ${settings.proporcao}, fundo desfocado com profundidade de campo curta (${settings.abertura}), ${settings.iluminacao}, atmosfera poÃ©tica em ${settings.atmosfera}, ${settings.expressao}, com ${settings.borda}${extras.length > 0 ? ", incluindo elementos como " + extras.join(", ") : ""}.`;
    promptOutput.value = texto;
    copyFeedback.classList.add('hidden');
  }

  async function copiarPrompt() {
    const promptText = promptOutput.value;
    if (!promptText.trim()) {
      alert("Antes de copiar, gere o prompt.");
      return;
    }

    try {
      await navigator.clipboard.writeText(promptText);
      copyFeedback.classList.remove('hidden');
      setTimeout(() => copyFeedback.classList.add('hidden'), 2000);
    } catch (err) {
      console.warn("Clipboard API falhou, tentando mÃ©todo alternativo...", err);
      const textarea = document.createElement("textarea");
      textarea.value = promptText;
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand("copy");
        copyFeedback.classList.remove('hidden');
        setTimeout(() => copyFeedback.classList.add('hidden'), 2000);
      } catch (err) {
        alert("NÃ£o foi possÃ­vel copiar. Copie manualmente.");
      } finally {
        document.body.removeChild(textarea);
      }
    }
  }

  // --- Initialization ---
  function initialize() {
    // Preencher selects
    Object.keys(presets).forEach(presetName => {
      const option = document.createElement('option');
      option.value = presetName;
      option.textContent = presetName;
      presetSelect.appendChild(option);
    });
    proporcoes.forEach(opt => {
      const option = document.createElement('option');
      option.value = opt;
      option.textContent = opt;
      proporcaoSelect.appendChild(option);
    });

    // Criar checkboxes
    Object.keys(efeitos).forEach(key => {
        const div = document.createElement('div');
        div.className = 'flex items-center space-x-2';
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = `checkbox-${key}`;
        checkbox.dataset.key = key;
        checkbox.className = 'h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500';
        const label = document.createElement('label');
        label.htmlFor = `checkbox-${key}`;
        label.textContent = key;
        label.className = 'text-sm text-gray-600';
        div.appendChild(checkbox);
        div.appendChild(label);
        effectsContainer.appendChild(div);
        checkbox.addEventListener('change', (e) => {
            efeitos[e.target.dataset.key] = e.target.checked;
        });
    });

    // Event Listeners
    presetSelect.addEventListener('change', (e) => aplicarPreset(e.target.value));
    generateButton.addEventListener('click', gerarPrompt);
    copyButton.addEventListener('click', copiarPrompt);
    promptOutput.addEventListener('input', () => copyFeedback.classList.add('hidden'));

    // LÃ³gica do Accordion
    const accordions = document.querySelectorAll('#accordion-container details');
    accordions.forEach(accordion => {
      accordion.addEventListener('toggle', (event) => {
        if (event.target.open) {
          accordions.forEach(otherAccordion => {
            if (otherAccordion !== event.target) {
              otherAccordion.open = false;
            }
          });
        }
      });
    });
  }

  initialize();
});
</script>

</body>
</html>
